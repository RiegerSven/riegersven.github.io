<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.11">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="dcterms.date" content="2024-10-25">
<title>Functions in R – riegersven.github.io</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>

<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../material/data-proc/data-proc-loops.html" rel="next">
<link href="../../material/data-proc/data-proc-nam-lists.html" rel="prev">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-3d3a3f531f1be4526fdd4068b34a2ee6.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-69adac596de0945cacfdcab5d73d8484.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light"><script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script><link rel="stylesheet" href="../../styles.css">
<meta property="og:title" content="Functions in R – riegersven.github.io">
<meta property="og:description" content="Writing functions is the best way to enhance your data processing skills. Functions allow you to automate tasks that are needed to be repeated more than 2-times. This sections gives a brief introduction in writing your own functions. There are other sources that cover this topic in much more detail (see R for Data Science by Hadley Wickham &amp; Garrett Grolemund).">
<meta property="og:site_name" content="Personal website of Sven Rieger">
<meta name="twitter:title" content="Functions in R – riegersven.github.io">
<meta name="twitter:description" content="Writing functions is the best way to enhance your data processing skills. Functions allow you to automate tasks that are needed to be repeated more than 2-times. This sections gives a brief introduction in writing your own functions. There are other sources that cover this topic in much more detail (see R for Data Science by Hadley Wickham &amp; Garrett Grolemund).">
<meta name="twitter:card" content="summary">
</head>
<body class="nav-sidebar floating nav-fixed slimcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="navbar navbar-expand-lg " data-bs-theme="dark"><div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">riegersven.github.io</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
<li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">About me</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="../../preface.html" aria-current="page"> 
<span class="menu-text">Material</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../publications.html"> 
<span class="menu-text">Publications</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/RiegerSven/"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://bsky.app/profile/svenrieger.bsky.social"> 
<span class="menu-text">Bluesky</span></a>
  </li>  
</ul>
</div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav><nav class="quarto-secondary-nav"><div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../material/data-proc/data-proc-nam-lists.html">Data (Pre-)Processing</a></li><li class="breadcrumb-item"><a href="../../material/data-proc/data-proc-functions.html">Functions in R</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav><div id="quarto-announcement" data-announcement-id="cf5712b0d6d4d53aa37f95e0f08970ba" class="alert alert-primary hidden">
<i class="bi bi-info-circle quarto-announcement-icon"></i><div class="quarto-announcement-content">
<p>This website is work in progress and under active development.</p>
</div>
<i class="bi bi-x-lg quarto-announcement-action"></i>
</div>
</header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto"><div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../preface.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false">
 <span class="menu-text">Software</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../material/software/intro-r-rstudio.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction to R &amp; RStudio</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../material/software/intro-quarto.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">A not so short introduction to Quarto</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../material/software/setup-project.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Implement a Project-Oriented Workflow</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="false">
 <span class="menu-text">Example Data</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 ">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../material/example-data/data-hsb.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">High School and Beyond (HSB)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../material/example-data/data-latent-state.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Simulated Data based on 3-dimensional CFA Multiple Group Model</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">Data (Pre-)Processing</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../material/data-proc/data-proc-nam-lists.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">(Named) Lists &amp; character vectors</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../material/data-proc/data-proc-functions.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Functions in R</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../material/data-proc/data-proc-loops.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Loops in R</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="false">
 <span class="menu-text">Basic Calculations</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 ">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../material/basic-calculations/descriptive-statistics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Descriptive statistics</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="false">
 <span class="menu-text">Multilevel Modeling</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 ">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../material/mlm/intro-mlm.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction to Multilevel Modeling</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="false">
 <span class="menu-text">Measurement Models</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 ">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../material/measurement-models/cfa.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Confirmatory Factor Analyses</span></a>
  </div>
</li>
      </ul>
</li>
    </ul>
</div>
</nav><div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">On this page</h2>
   
  <ul>
<li><a href="#why-you-should-avoid-copypaste-and-use-functions-instead" id="toc-why-you-should-avoid-copypaste-and-use-functions-instead" class="nav-link active" data-scroll-target="#why-you-should-avoid-copypaste-and-use-functions-instead">Why you should avoid copy/paste and use functions instead</a></li>
  <li><a href="#function-in-r" id="toc-function-in-r" class="nav-link" data-scroll-target="#function-in-r">What is a function in <code>R</code>?</a></li>
  <li>
<a href="#how-to-write-a-function" id="toc-how-to-write-a-function" class="nav-link" data-scroll-target="#how-to-write-a-function">How to write a function?</a>
  <ul class="collapse">
<li><a href="#step-1" id="toc-step-1" class="nav-link" data-scroll-target="#step-1">Step 1</a></li>
  <li><a href="#step-2" id="toc-step-2" class="nav-link" data-scroll-target="#step-2">Step 2</a></li>
  <li><a href="#step-3" id="toc-step-3" class="nav-link" data-scroll-target="#step-3">Step 3</a></li>
  <li><a href="#step-4" id="toc-step-4" class="nav-link" data-scroll-target="#step-4">Step 4</a></li>
  </ul>
</li>
  <li><a href="#input-validation" id="toc-input-validation" class="nav-link" data-scroll-target="#input-validation">Input validation</a></li>
  </ul><div class="toc-actions"><ul><li><a href="https://github.com/RiegerSven/riegersven.github.io/edit/main/material/data-proc/data-proc-functions.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/RiegerSven/riegersven.github.io/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../material/data-proc/data-proc-nam-lists.html">Data (Pre-)Processing</a></li><li class="breadcrumb-item"><a href="../../material/data-proc/data-proc-functions.html">Functions in R</a></li></ol></nav><div class="quarto-title">
<h1 class="title">Functions in R</h1>
</div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Last updated on</div>
    <div class="quarto-title-meta-contents">
      <p class="date">October 25, 2024</p>
    </div>
  </div>
  
    
  </div>
  
<div>
  <div class="abstract">
    <div class="block-title">Abstract</div>
    <p>Writing functions is the best way to enhance your data processing skills. Functions allow you to automate tasks that are needed to be repeated more than 2-times. This sections gives a brief introduction in writing your own functions. There are other sources that cover this topic in much more detail (see <a href="https://r4ds.had.co.nz/functions.html?q=functions#functions">R for Data Science</a> by <a href="https://hadley.nz/">Hadley Wickham</a> &amp; <a href="https://www.rstudio.com/authors/garrett-grolemund/">Garrett Grolemund</a>).</p>
  </div>
</div>


</header><!--
::: {.content-hidden when-format="revealjs"}

## Revealjs Presentation

If you want to see the presentation in full screen go to **Other Formats** on the right. The presentation can be downloaded <a href="data-proc-functions-reveal.html" download>here</a>.

<div class="container">
  <iframe class="responsive-iframe" src="data-proc-functions-reveal.html"></iframe>
</div> 

:::

--><section id="why-you-should-avoid-copypaste-and-use-functions-instead" class="level2 page-columns page-full"><h2 class="anchored" data-anchor-id="why-you-should-avoid-copypaste-and-use-functions-instead">Why you should avoid copy/paste and use functions instead</h2>
<blockquote class="blockquote">
<p>One of the best ways to improve your reach as a data scientist is to write functions. <span class="fragment highlight-blue">Functions allow you to automate common tasks in a more powerful and general way than copy-and-pasting</span>. Writing a function has four big advantages over using copy-and-paste:</p>
<ol type="1">
<li><p>You can give a function an evocative name that makes your code easier to understand.</p></li>
<li><p>As requirements change, you only need to update code in one place, instead of many.</p></li>
<li><p>You eliminate the chance of making incidental mistakes when you copy and paste (i.e.&nbsp;updating a variable name in one place, but &gt; not in another).</p></li>
<li><p>It makes it easier to reuse work from project-to-project, increasing your productivity over time.</p></li>
</ol>
</blockquote>

<div class="no-row-height column-margin column-container"><div class="margin-aside">
<p>see R for Data Science (2e), Chapter <a href="https://r4ds.hadley.nz/functions">25</a></p>
</div></div></section><section id="function-in-r" class="level2 page-columns page-full"><h2 class="anchored" data-anchor-id="function-in-r">What is a function in <code>R</code>?</h2>
<div class="callout callout-style-simple callout-tip">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p>A function is an object that may contain multiple related operations, statements and functions. These are executed in a predefined order.</p>
<p>Functions in <code>R</code> can be created using the <code>function()</code> statement and consist of roughly 3 parts:</p>
<ol type="1">
<li>
<strong>name</strong> of the function</li>
<li>
<strong>arguments and parameters</strong>: may vary across calls of the function</li>
<li>
<strong>body</strong> that contains the code which is executed across function calls</li>
</ol>
<p>In addition, you might want to include warning, and/or error messages.</p>
</div>
</div>
</div>
<div class="cell" data-output-location="column">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a>name <span class="ot">&lt;-</span> <span class="cf">function</span>( arguments ) {</span>
<span id="cb1-2"><a href="#cb1-2"></a></span>
<span id="cb1-3"><a href="#cb1-3"></a>  body </span>
<span id="cb1-4"><a href="#cb1-4"></a></span>
<span id="cb1-5"><a href="#cb1-5"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>

<div class="no-row-height column-margin column-container"><div class="margin-aside">
<p><a href="https://cran.r-project.org/doc/manuals/r-release/R-lang.html#Function-objects" class="uri">https://cran.r-project.org/doc/manuals/r-release/R-lang.html#Function-objects</a></p>
</div></div></section><section id="how-to-write-a-function" class="level2" data-auto-animate="true"><h2 data-auto-animate="true" class="anchored" data-anchor-id="how-to-write-a-function">How to write a function?</h2>
<p><strong>Example:</strong> A function that calculates scale scores for a set of item indicators.</p>
<section id="step-1" class="level3"><h3 class="anchored" data-anchor-id="step-1">Step 1</h3>
<p>Provide a concise and meaningful name (here: <code>calcScaleScore</code>). The name of the function object will–after defining the function–appear in the <code>R</code> environment.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a>calcScaleScore <span class="ot">&lt;-</span> <span class="cf">function</span>( arguments ) {</span>
<span id="cb2-2"><a href="#cb2-2"></a></span>
<span id="cb2-3"><a href="#cb2-3"></a>  body </span>
<span id="cb2-4"><a href="#cb2-4"></a></span>
<span id="cb2-5"><a href="#cb2-5"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="step-2" class="level3"><h3 class="anchored" data-anchor-id="step-2">Step 2</h3>
<p>Define the inputs and arguments of the function. These are written within the regular brackets <code>(...)</code>. When needed, prepare <code>if</code> conditions.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>calcScaleScore <span class="ot">&lt;-</span> <span class="cf">function</span>( data,</span>
<span id="cb3-2"><a href="#cb3-2"></a>                            items,</span>
<span id="cb3-3"><a href="#cb3-3"></a>                            <span class="at">score =</span> <span class="st">"sum"</span> ) {</span>
<span id="cb3-4"><a href="#cb3-4"></a>  </span>
<span id="cb3-5"><a href="#cb3-5"></a>  <span class="cf">if</span> (score <span class="sc">==</span> <span class="st">"sum"</span>) {</span>
<span id="cb3-6"><a href="#cb3-6"></a></span>
<span id="cb3-7"><a href="#cb3-7"></a>  } <span class="cf">else</span> <span class="cf">if</span> ( score <span class="sc">==</span> <span class="st">"mean"</span> ) {</span>
<span id="cb3-8"><a href="#cb3-8"></a></span>
<span id="cb3-9"><a href="#cb3-9"></a>  } <span class="cf">else</span> {</span>
<span id="cb3-10"><a href="#cb3-10"></a></span>
<span id="cb3-11"><a href="#cb3-11"></a>    <span class="fu">stop</span>(<span class="st">"score argument must be either 'sum' or 'mean'"</span>)</span>
<span id="cb3-12"><a href="#cb3-12"></a></span>
<span id="cb3-13"><a href="#cb3-13"></a>  }</span>
<span id="cb3-14"><a href="#cb3-14"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="step-3" class="level3"><h3 class="anchored" data-anchor-id="step-3">Step 3</h3>
<p>Provide code in body of the function. Write it between the curly brackets <code><a href="https://rdrr.io/r/base/Paren.html">{ }</a></code>. Do not forget to <code><a href="https://rdrr.io/r/base/function.html">return()</a></code> the results.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a>calcScaleScore <span class="ot">&lt;-</span> <span class="cf">function</span>( data,</span>
<span id="cb4-2"><a href="#cb4-2"></a>                            items,</span>
<span id="cb4-3"><a href="#cb4-3"></a>                            <span class="at">score =</span> <span class="st">"sum"</span> ) {</span>
<span id="cb4-4"><a href="#cb4-4"></a></span>
<span id="cb4-5"><a href="#cb4-5"></a>  <span class="cf">if</span> (score <span class="sc">==</span> <span class="st">"sum"</span>) {</span>
<span id="cb4-6"><a href="#cb4-6"></a></span>
<span id="cb4-7"><a href="#cb4-7"></a>    ret <span class="ot">&lt;-</span> <span class="fu">rowSums</span>(data[,items])</span>
<span id="cb4-8"><a href="#cb4-8"></a></span>
<span id="cb4-9"><a href="#cb4-9"></a>  } <span class="cf">else</span> <span class="cf">if</span> ( score <span class="sc">==</span> <span class="st">"mean"</span> ) {</span>
<span id="cb4-10"><a href="#cb4-10"></a></span>
<span id="cb4-11"><a href="#cb4-11"></a>    ret <span class="ot">&lt;-</span> <span class="fu">rowMeans</span>(data[,items])</span>
<span id="cb4-12"><a href="#cb4-12"></a></span>
<span id="cb4-13"><a href="#cb4-13"></a>  } <span class="cf">else</span> {</span>
<span id="cb4-14"><a href="#cb4-14"></a></span>
<span id="cb4-15"><a href="#cb4-15"></a>    <span class="fu">stop</span>(<span class="st">"score argument must be either 'sum' or 'mean'"</span>)</span>
<span id="cb4-16"><a href="#cb4-16"></a></span>
<span id="cb4-17"><a href="#cb4-17"></a>  }</span>
<span id="cb4-18"><a href="#cb4-18"></a></span>
<span id="cb4-19"><a href="#cb4-19"></a>  <span class="fu">return</span>(ret)</span>
<span id="cb4-20"><a href="#cb4-20"></a></span>
<span id="cb4-21"><a href="#cb4-21"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="step-4" class="level3"><h3 class="anchored" data-anchor-id="step-4">Step 4</h3>
<p>Test the function.</p>
<div class="callout callout-style-simple callout-note callout-titled" title="Do you need data?">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Do you need data?
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>A simulated data set (<code>wideLSdat</code>) can be found in the <a href="../../material/example-data/data-latent-state.html">Example Data</a> section.</p>
<div class="cell">
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">wideLSdat</span><span class="op">[</span>,<span class="fl">1</span><span class="op">:</span><span class="fl">6</span><span class="op">]</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>         Y11        Y21        Y31        Y12        Y22        Y32
1 -1.1184017 -1.6943188  0.1323046  0.5748477  0.3150744  1.4075321
2  1.4531887  2.7288805 -1.2379256 -0.4005724  3.2846794  0.6107107
3 -2.2427060 -0.1185009  0.9572514  0.3580144  0.1341493  1.0716963
4 -1.0682233 -1.0543955  0.1124673 -0.4524512 -1.3420486 -1.2007979
5 -1.7815469 -0.2275640 -2.1083167 -1.3481591 -1.7817689 -0.2680896
6 -0.4298616 -0.6126364 -1.6585705 -0.1314354  0.6786605  0.4220211</code></pre>
</div>
</div>
<p>Quickly create a named list.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a>wideLSVar <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="st">"Y1"</span> <span class="ot">=</span> <span class="fu">paste0</span>(<span class="st">"Y"</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="dv">1</span>),</span>
<span id="cb7-2"><a href="#cb7-2"></a>                  <span class="st">"Y2"</span> <span class="ot">=</span> <span class="fu">paste0</span>(<span class="st">"Y"</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="dv">2</span>),</span>
<span id="cb7-3"><a href="#cb7-3"></a>                  <span class="st">"Y3"</span> <span class="ot">=</span> <span class="fu">paste0</span>(<span class="st">"Y"</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="dv">3</span>))</span>
<span id="cb7-4"><a href="#cb7-4"></a>wideLSVar</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$Y1
[1] "Y11" "Y21" "Y31"

$Y2
[1] "Y12" "Y22" "Y32"

$Y3
[1] "Y13" "Y23" "Y33"</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a>wideLSdat<span class="sc">$</span>Y1 <span class="ot">&lt;-</span> <span class="fu">calcScaleScore</span>(<span class="at">data =</span> wideLSdat,</span>
<span id="cb9-2"><a href="#cb9-2"></a>                               <span class="at">items =</span> wideLSVar<span class="sc">$</span>Y1,</span>
<span id="cb9-3"><a href="#cb9-3"></a>                               <span class="at">score =</span> <span class="st">"sum"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Evaluate the results.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="fu">rowSums</span>(wideLSdat[, wideLSVar<span class="sc">$</span>Y1]) <span class="sc">==</span> wideLSdat<span class="sc">$</span>Y1 <span class="sc">|&gt;</span></span>
<span id="cb10-2"><a href="#cb10-2"></a>  <span class="fu">table</span>( )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
   -9.73389377617209    -8.71653194116058    -8.22985662209283 
               FALSE                FALSE                FALSE 
   -7.64963762739478    -7.56993207769346    -7.24680776562925 
               FALSE                FALSE                FALSE 
    -7.0450186746203     -7.0116317498104    -6.43268477841522 
               FALSE                FALSE                FALSE 
   -6.40415327759146     -6.3598658255672    -6.17121054421047 
               FALSE                FALSE                FALSE 
   -5.68302596165909    -5.66961711409514    -5.65849896071097 
               FALSE                FALSE                FALSE 
   -5.60051114754107    -5.59093611224922    -5.58526614188981 
               FALSE                FALSE                FALSE 
   -5.47010195424614    -5.41354202517124    -5.20866731008724 
               FALSE                FALSE                FALSE 
   -5.17501462784147    -5.13234702246661    -5.04469292303205 
               FALSE                FALSE                FALSE 
   -5.03434160485839    -4.99836621459807    -4.98876921099465 
               FALSE                FALSE                FALSE 
   -4.85792126409251    -4.83581233044848    -4.83068162818535 
               FALSE                FALSE                FALSE 
   -4.79774923461719    -4.78859009581849    -4.74694594139286 
               FALSE                FALSE                FALSE 
   -4.71289457088178    -4.68966657550828    -4.66528737762718 
               FALSE                FALSE                FALSE 
   -4.62535977927755    -4.59038157192053    -4.57282703675191 
               FALSE                FALSE                FALSE 
   -4.47015084226327    -4.38123915211073    -4.32427135877274 
               FALSE                FALSE                FALSE 
   -4.31618003812474    -4.29847038269316    -4.29533625885493 
               FALSE                FALSE                FALSE 
   -4.28948103583518    -4.27928967499126    -4.22685968309444 
               FALSE                FALSE                FALSE 
   -4.19683902663496    -4.18624172139256    -4.11742757558381 
               FALSE                FALSE                FALSE 
   -4.09928580108781    -4.07774144772437    -4.01154112167672 
               FALSE                FALSE                FALSE 
   -3.99929227287744    -3.97139218610699    -3.94736017846009 
               FALSE                FALSE                FALSE 
   -3.92214090894084    -3.90466031898669    -3.90134178045689 
               FALSE                FALSE                FALSE 
   -3.88364937373579    -3.88043472735099    -3.84635022051567 
               FALSE                FALSE                FALSE 
   -3.83951324663091     -3.8392013709059    -3.78392667067157 
               FALSE                FALSE                FALSE 
   -3.78235455797421    -3.77741924298228    -3.76797758664793 
               FALSE                FALSE                FALSE 
    -3.7181977026826    -3.67977855037313    -3.67119812801083 
               FALSE                FALSE                FALSE 
   -3.65426424835001    -3.64212918713273    -3.59925899229382 
               FALSE                FALSE                FALSE 
   -3.58198979485366    -3.57841852245157    -3.56818653831106 
               FALSE                FALSE                FALSE 
   -3.55973202250252    -3.54595873695332    -3.49878312863242 
               FALSE                FALSE                FALSE 
   -3.49309244474257    -3.45106034679794    -3.44447207525179 
               FALSE                FALSE                FALSE 
   -3.41968917677272    -3.41519953842289    -3.41430480469907 
               FALSE                FALSE                FALSE 
   -3.33696441382746    -3.31062062234994    -3.30064921437412 
               FALSE                FALSE                FALSE 
   -3.28295058642261    -3.27045858609411    -3.26912748849572 
               FALSE                FALSE                FALSE 
   -3.25683606041451    -3.23140699360728    -3.21466034125971 
               FALSE                FALSE                FALSE 
   -3.21246468608119    -3.21227195586287    -3.20383516483713 
               FALSE                FALSE                FALSE 
   -3.20231785705892    -3.20157648959021    -3.14883642387804 
               FALSE                FALSE                FALSE 
   -3.13718481111235    -3.12592576045488     -3.1070930688695 
               FALSE                FALSE                FALSE 
   -3.09419783080964    -3.07848697784794    -3.07742491636902 
               FALSE                FALSE                FALSE 
    -3.0703976244845    -3.06426857926761    -3.06267104293779 
               FALSE                FALSE                FALSE 
    -3.0478609380934    -3.04375395480893    -3.03713032557766 
               FALSE                FALSE                FALSE 
    -2.9806755948301     -2.9586635003355    -2.95059428664267 
               FALSE                FALSE                FALSE 
   -2.94152003021331    -2.93746489197726    -2.89101973683266 
               FALSE                FALSE                FALSE 
   -2.86477880036234    -2.85597777532159    -2.85449509005123 
               FALSE                FALSE                FALSE 
   -2.84486421480321    -2.84167776274154    -2.83111037335122 
               FALSE                FALSE                FALSE 
   -2.79601133351933      -2.793780234373    -2.78168659370877 
               FALSE                FALSE                FALSE 
   -2.77697200006143    -2.77378829252534    -2.76154015543905 
               FALSE                FALSE                FALSE 
   -2.75651544506823    -2.73889610451595    -2.73871182053505 
               FALSE                FALSE                FALSE 
   -2.72777296342657    -2.71646477218305    -2.70725612381798 
               FALSE                FALSE                FALSE 
   -2.70428211028587    -2.70106847710548    -2.68041586680368 
               FALSE                FALSE                FALSE 
   -2.64511991607732    -2.56409786751446    -2.53393865461379 
               FALSE                FALSE                FALSE 
   -2.52686704320012    -2.52362256301806    -2.51955490715565 
               FALSE                FALSE                FALSE 
    -2.5122353220331    -2.50274707296659    -2.50072346295735 
               FALSE                FALSE                FALSE 
   -2.49768701110982    -2.47730044414391    -2.46704702784181 
               FALSE                FALSE                FALSE 
   -2.45934185918598    -2.45535865071347    -2.44830825188613 
               FALSE                FALSE                FALSE 
    -2.4421639515253    -2.44030753807607    -2.42542765672847 
               FALSE                FALSE                FALSE 
   -2.42406018601727    -2.39883565791476    -2.37996838926767 
               FALSE                FALSE                FALSE 
   -2.37740120212983    -2.35872787631986    -2.34506510441555 
               FALSE                FALSE                FALSE 
    -2.3397126778017     -2.3362297928642    -2.32040679272632 
               FALSE                FALSE                FALSE 
   -2.28600492928729    -2.28240613156055    -2.27924306348754 
               FALSE                FALSE                FALSE 
   -2.27512172360798    -2.26830297217272    -2.23369052044578 
               FALSE                FALSE                FALSE 
   -2.21861035632607    -2.21604988751917    -2.20709187847368 
               FALSE                FALSE                FALSE 
   -2.15134103605827    -2.14553732748475    -2.13652221526018 
               FALSE                FALSE                FALSE 
    -2.1326491757178    -2.13063372629732    -2.12774284687139 
               FALSE                FALSE                FALSE 
   -2.12431039887872    -2.12250419270145     -2.1135382544665 
               FALSE                FALSE                FALSE 
   -2.11138491345906    -2.10774498322667    -2.10629110488306 
               FALSE                FALSE                FALSE 
   -2.10267706756883    -2.10016810145513    -2.09313634661147 
               FALSE                FALSE                FALSE 
   -2.08097106751257    -2.07121918059385    -2.06685236828573 
               FALSE                FALSE                FALSE 
   -2.05365271456528    -2.05310401732278    -2.03573140098587 
               FALSE                FALSE                FALSE 
   -2.01015154258807    -2.00572651509741    -1.99555649624772 
               FALSE                FALSE                FALSE 
   -1.99379004480249    -1.98485038066978     -1.9724411554257 
               FALSE                FALSE                FALSE 
   -1.95686293091065    -1.94671396919214    -1.94141104605008 
               FALSE                FALSE                FALSE 
   -1.93718955241707    -1.93260436716525    -1.90669851090291 
               FALSE                FALSE                FALSE 
   -1.90634007742589    -1.90070667256053    -1.89880551620375 
               FALSE                FALSE                FALSE 
   -1.89318825240933    -1.88265675089147    -1.87346441748613 
               FALSE                FALSE                FALSE 
   -1.87341113055106    -1.87221815733443    -1.86968688017474 
               FALSE                FALSE                FALSE 
    -1.8632213115181    -1.85546986842474    -1.85532997847673 
               FALSE                FALSE                FALSE 
   -1.85380387029161    -1.85332882230104    -1.83959406848951 
               FALSE                FALSE                FALSE 
   -1.83855222077776    -1.81216165172275    -1.80273113223865 
               FALSE                FALSE                FALSE 
   -1.79767515105789    -1.79650519635973    -1.79567263204463 
               FALSE                FALSE                FALSE 
   -1.77416465801355     -1.7724194627399    -1.76077966237183 
               FALSE                FALSE                FALSE 
   -1.75982727589562    -1.74784100815085    -1.74513877272811 
               FALSE                FALSE                FALSE 
   -1.74409953700051    -1.73314247398619    -1.72072861556446 
               FALSE                FALSE                FALSE 
   -1.70798891832354    -1.69243287299525    -1.68446193794474 
               FALSE                FALSE                FALSE 
   -1.68307353004302    -1.66700591681245    -1.66074002660101 
               FALSE                FALSE                FALSE 
   -1.65395341754824    -1.64162066593146    -1.63541587407732 
               FALSE                FALSE                FALSE 
   -1.62747600448637    -1.62628577981902    -1.59909609438846 
               FALSE                FALSE                FALSE 
   -1.58375241419457    -1.57473167778103    -1.55786973951053 
               FALSE                FALSE                FALSE 
   -1.55360775089359    -1.53454203841316    -1.52032737577542 
               FALSE                FALSE                FALSE 
   -1.51813878833601    -1.50922824332527    -1.49124046192944 
               FALSE                FALSE                FALSE 
   -1.48425358292291    -1.48043401644278    -1.47098688341949 
               FALSE                FALSE                FALSE 
   -1.46552409056865    -1.46314262227926    -1.45332695577044 
               FALSE                FALSE                FALSE 
   -1.45105036236828    -1.44645770072442    -1.43585007228049 
               FALSE                FALSE                FALSE 
   -1.43289523080924    -1.42568887602818    -1.42164683004638 
               FALSE                FALSE                FALSE 
   -1.40934699387375    -1.40713650768923     -1.4039555591164 
               FALSE                FALSE                FALSE 
   -1.40331663839416    -1.40017954947526    -1.39668259497133 
               FALSE                FALSE                FALSE 
   -1.39162635573517    -1.38942766615834    -1.37275311197205 
               FALSE                FALSE                FALSE 
   -1.37143623054621    -1.35657909846106    -1.35303283423361 
               FALSE                FALSE                FALSE 
   -1.33186990543499    -1.33137455337323     -1.3093322001487 
               FALSE                FALSE                FALSE 
   -1.30623384493188    -1.30097332506964    -1.29995227461951 
               FALSE                FALSE                FALSE 
   -1.29654477683817    -1.29452401591745     -1.2866598585297 
               FALSE                FALSE                FALSE 
   -1.27157473315392    -1.26946306325241    -1.26426118163694 
               FALSE                FALSE                FALSE 
   -1.25592976710579    -1.25040732313812    -1.23926513399508 
               FALSE                FALSE                FALSE 
   -1.23574083761784    -1.22436702576422     -1.2095636510323 
               FALSE                FALSE                FALSE 
   -1.19953322378366    -1.19409655252516    -1.19092765207122 
               FALSE                FALSE                FALSE 
   -1.18601242696393     -1.1856912084519    -1.17940831068191 
               FALSE                FALSE                FALSE 
   -1.17899158776837    -1.17567362936286    -1.17110092996599 
               FALSE                FALSE                FALSE 
    -1.1665847356286    -1.13996993431154    -1.13856506068752 
               FALSE                FALSE                FALSE 
   -1.13709209351598    -1.12561518614752    -1.12262147202058 
               FALSE                FALSE                FALSE 
   -1.12171389735105    -1.12059761637271     -1.1105938094633 
               FALSE                FALSE                FALSE 
    -1.1089261859326    -1.10509592693454    -1.08924235701072 
               FALSE                FALSE                FALSE 
   -1.08822298451007    -1.08613816424563    -1.07671358350154 
               FALSE                FALSE                FALSE 
   -1.04867552619591    -1.04638312597593    -1.04168190081741 
               FALSE                FALSE                FALSE 
   -1.03328254794124    -1.01857459558566     -1.0050332383521 
               FALSE                FALSE                FALSE 
   -1.00114028099668   -0.996778526494847   -0.993317200962579 
               FALSE                FALSE                FALSE 
  -0.985511683356631   -0.980914334065708   -0.979305286343954 
               FALSE                FALSE                FALSE 
  -0.970932191352043   -0.964138734099771   -0.949104002114717 
               FALSE                FALSE                FALSE 
  -0.943158567071577   -0.935314774739691    -0.93299177233875 
               FALSE                FALSE                FALSE 
  -0.931502030498118   -0.928472594917773   -0.923215175561106 
               FALSE                FALSE                FALSE 
   -0.92194670298129   -0.921652782018567   -0.909700999436304 
               FALSE                FALSE                FALSE 
  -0.908442894805304   -0.908434684555341   -0.904414351151309 
               FALSE                FALSE                FALSE 
  -0.902379766367635   -0.902247040398057   -0.901611724469574 
               FALSE                FALSE                FALSE 
  -0.899669085056083   -0.897958656125882   -0.893048292256331 
               FALSE                FALSE                FALSE 
  -0.889963165588065    -0.88385427488327   -0.882220243661522 
               FALSE                FALSE                FALSE 
  -0.877391412288213   -0.870267939291603   -0.866676433663414 
               FALSE                FALSE                FALSE 
  -0.865785730405681    -0.86439631352698    -0.85937148390887 
               FALSE                FALSE                FALSE 
  -0.848029535881904   -0.845399262459909   -0.845360693961829 
               FALSE                FALSE                FALSE 
  -0.839732694775837   -0.838589244276503   -0.836596645813017 
               FALSE                FALSE                FALSE 
  -0.833195045390149    -0.82845806228988   -0.828455173775299 
               FALSE                FALSE                FALSE 
  -0.822332424238787   -0.809982449578892   -0.806717102601716 
               FALSE                FALSE                FALSE 
  -0.801405478940151   -0.794937748409519   -0.787338255746107 
               FALSE                FALSE                FALSE 
  -0.784712314563167   -0.779515164499509   -0.772511234875217 
               FALSE                FALSE                FALSE 
  -0.770470899216859   -0.767819899000438   -0.757038345356397 
               FALSE                FALSE                FALSE 
  -0.742470973620194     -0.7308804885236   -0.725871286729028 
               FALSE                FALSE                FALSE 
  -0.724057605922946   -0.723304574488501   -0.704573583591384 
               FALSE                FALSE                FALSE 
  -0.699009256729407   -0.687854489325357   -0.687202091489397 
               FALSE                FALSE                FALSE 
  -0.680059254510272   -0.675662698718812   -0.661276299196516 
               FALSE                FALSE                FALSE 
  -0.657306522711317   -0.651146223624076   -0.643844302972761 
               FALSE                FALSE                FALSE 
  -0.634621036100702   -0.629258234852873   -0.628679031484536 
               FALSE                FALSE                FALSE 
  -0.627059391548589   -0.625394534165776   -0.623215939192873 
               FALSE                FALSE                FALSE 
  -0.617302952242996   -0.612102604280975   -0.605092676641582 
               FALSE                FALSE                FALSE 
  -0.597228912686685   -0.592318352107217   -0.584879657724401 
               FALSE                FALSE                FALSE 
  -0.566994260866381   -0.560531939558334   -0.559244416984602 
               FALSE                FALSE                FALSE 
  -0.558122457943445   -0.558112543906985   -0.556672870881909 
               FALSE                FALSE                FALSE 
  -0.554757884274748    -0.55444969605905   -0.537262866590983 
               FALSE                FALSE                FALSE 
  -0.514815063288034   -0.513852415469904   -0.511898107411674 
               FALSE                FALSE                FALSE 
  -0.511272083038599     -0.5103899241252   -0.502602692964638 
               FALSE                FALSE                FALSE 
  -0.475567981670412   -0.469800050659703    -0.46445731814311 
               FALSE                FALSE                FALSE 
  -0.460194573947112   -0.457649894038556   -0.445833380484239 
               FALSE                FALSE                FALSE 
  -0.444452411724359   -0.440911414328757   -0.435558754779182 
               FALSE                FALSE                FALSE 
  -0.434921511907886   -0.429714051434802   -0.428609470132169 
               FALSE                FALSE                FALSE 
  -0.417715067192002   -0.411225243435048   -0.403327100442364 
               FALSE                FALSE                FALSE 
  -0.399764250804185   -0.393178389397953   -0.382300106185477 
               FALSE                FALSE                FALSE 
  -0.378383991571328   -0.363373006523102   -0.357341003185027 
               FALSE                FALSE                FALSE 
  -0.355686952706336   -0.345947035499868   -0.342495936926186 
               FALSE                FALSE                FALSE 
  -0.341970874446929   -0.337405018854218   -0.330186823086046 
               FALSE                FALSE                FALSE 
  -0.322012017153861   -0.314442424297751    -0.30461934780054 
               FALSE                FALSE                FALSE 
    -0.2954115483459    -0.29484370120081   -0.292786440910781 
               FALSE                FALSE                FALSE 
  -0.288431567012781   -0.287781884953232   -0.286217667544945 
               FALSE                FALSE                FALSE 
   -0.27288684155652   -0.270279987681185   -0.266511567635496 
               FALSE                FALSE                FALSE 
  -0.262014300817472   -0.234268836142978   -0.209611653184023 
               FALSE                FALSE                FALSE 
  -0.200789957124929    -0.18286008586977   -0.179534887772169 
               FALSE                FALSE                FALSE 
  -0.179027723854856    -0.16499527089232   -0.164597309912921 
               FALSE                FALSE                FALSE 
  -0.155205784906065   -0.144649337954828   -0.138983354865439 
               FALSE                FALSE                FALSE 
  -0.137313267256759    -0.13472809637736   -0.122630613941881 
               FALSE                FALSE                FALSE 
  -0.121757021398741   -0.120275454194255   -0.117128936277443 
               FALSE                FALSE                FALSE 
  -0.116231989401598   -0.112074036793605   -0.111231820775619 
               FALSE                FALSE                FALSE 
  -0.110823876864583   -0.106339420366326   -0.105710988651212 
               FALSE                FALSE                FALSE 
 -0.0873961492824531  -0.0835472024621228   -0.067082978882576 
               FALSE                FALSE                FALSE 
 -0.0530506232454802  -0.0487928594415137  -0.0329189931283008 
               FALSE                FALSE                FALSE 
 -0.0272190930599391  -0.0248470710236615  -0.0209848405506599 
               FALSE                FALSE                FALSE 
 -0.0112682181974062 -0.00402888327318164  0.00605359316158625 
               FALSE                FALSE                FALSE 
 0.00617215724397261  0.00910857723722067   0.0235643647977221 
               FALSE                FALSE                FALSE 
  0.0250946848954048   0.0274506215569891   0.0275610850998688 
               FALSE                FALSE                FALSE 
  0.0333650989104822   0.0559575402730557   0.0685672133675104 
               FALSE                FALSE                FALSE 
  0.0773258688266879   0.0811997476432222   0.0853930882002413 
               FALSE                FALSE                FALSE 
  0.0900447190163623   0.0906639341980126   0.0962052225243859 
               FALSE                FALSE                FALSE 
   0.115897965814892    0.118830950868172    0.119848949960061 
               FALSE                FALSE                FALSE 
    0.12071869973996    0.138705819662104    0.142620570587046 
               FALSE                FALSE                FALSE 
   0.149570630261319    0.155021558607156     0.15560423110983 
               FALSE                FALSE                FALSE 
   0.157936238662293    0.165833238405678    0.166622477511383 
               FALSE                FALSE                FALSE 
   0.173431178514642    0.179431525210159    0.179550903738305 
               FALSE                FALSE                FALSE 
   0.185402056015705    0.185684262209024    0.197723011077474 
               FALSE                FALSE                FALSE 
   0.198024584246714    0.201340253888863    0.202176266133858 
               FALSE                FALSE                FALSE 
   0.203940637847812    0.214780464672006    0.216517089139088 
               FALSE                FALSE                FALSE 
   0.219132256719047    0.242836146088665    0.250335495799809 
               FALSE                FALSE                FALSE 
   0.267029852980232    0.275729902554387     0.28155216247834 
               FALSE                FALSE                FALSE 
   0.294626707863154     0.29875778020662    0.318412349931741 
               FALSE                FALSE                FALSE 
   0.320343371640454    0.329107693383795    0.330602249855779 
               FALSE                FALSE                FALSE 
   0.335841267678216    0.342707150370416     0.34594573309869 
               FALSE                FALSE                FALSE 
   0.367594827413328    0.383393283214718    0.384964649509993 
               FALSE                FALSE                FALSE 
   0.385744914556509    0.391313175876782    0.412493273744056 
               FALSE                FALSE                FALSE 
   0.415428103310297    0.419628509868772    0.429443215573789 
               FALSE                FALSE                FALSE 
   0.434409380374827     0.43508750041347    0.436755262423793 
               FALSE                FALSE                FALSE 
   0.437952753402643     0.44707736436659    0.468831427222283 
               FALSE                FALSE                FALSE 
   0.473401295852292    0.474194485680589    0.479498712596908 
               FALSE                FALSE                FALSE 
   0.497686339407288    0.506053971147878    0.509025273891808 
               FALSE                FALSE                FALSE 
   0.516796039287211     0.52031739159707    0.536920256723288 
               FALSE                FALSE                FALSE 
   0.537940250275142    0.539589174452176    0.549001080165602 
               FALSE                FALSE                FALSE 
   0.562619524212334    0.564863119691579    0.575404087157893 
               FALSE                FALSE                FALSE 
   0.580795812160766    0.590994158003658    0.591589180553077 
               FALSE                FALSE                FALSE 
   0.597383197917308    0.603005543527258    0.604899436484414 
               FALSE                FALSE                FALSE 
   0.606627471202837    0.610256065841358     0.61469822868602 
               FALSE                FALSE                FALSE 
   0.617372691554703    0.625713790318445    0.626166320254305 
               FALSE                FALSE                FALSE 
   0.633871912624024    0.641421574616772    0.642557543887882 
               FALSE                FALSE                FALSE 
   0.645551496601246    0.670520226551862    0.671982847679816 
               FALSE                FALSE                FALSE 
   0.675431894510187     0.70201838071044    0.704822478834527 
               FALSE                FALSE                FALSE 
    0.70521469719761    0.713821957499812    0.716402638713417 
               FALSE                FALSE                FALSE 
   0.718845670372581    0.719635797002816    0.721637582658824 
               FALSE                FALSE                FALSE 
   0.728930105570761    0.729768966737158     0.73630322105916 
               FALSE                FALSE                FALSE 
   0.737013283221775    0.741058025418137    0.741991343879089 
               FALSE                FALSE                FALSE 
   0.744954132824612     0.75530680060858    0.762277464854228 
               FALSE                FALSE                FALSE 
   0.766136858105283    0.769220042286575    0.769300169914695 
               FALSE                FALSE                FALSE 
   0.779381728572134    0.791690446153709    0.804161999068217 
               FALSE                FALSE                FALSE 
   0.804295392481571    0.807251396246077     0.80886026300577 
               FALSE                FALSE                FALSE 
   0.809229768242361    0.820166462930642    0.820868732160427 
               FALSE                FALSE                FALSE 
   0.823420470023621    0.825147527939913    0.827118310190605 
               FALSE                FALSE                FALSE 
   0.839225277009135    0.841899197597155    0.862662277163743 
               FALSE                FALSE                FALSE 
   0.865370428744085    0.868400093183659    0.871551456193587 
               FALSE                FALSE                FALSE 
   0.872844430730312    0.873654057848266    0.875174100456697 
               FALSE                FALSE                FALSE 
   0.876574323496479    0.878031265132796    0.882753793282103 
               FALSE                FALSE                FALSE 
   0.886308770807164    0.887097531159775    0.893424224673545 
               FALSE                FALSE                FALSE 
   0.907640223200535    0.916747972702249    0.928223350009287 
               FALSE                FALSE                FALSE 
   0.928813297220745    0.929323069964386    0.940320699413027 
               FALSE                FALSE                FALSE 
   0.945887233896017    0.947974245589067    0.948325086297331 
               FALSE                FALSE                FALSE 
   0.951530939822647    0.958342136663829    0.962290980022304 
               FALSE                FALSE                FALSE 
   0.968135002675019    0.982859376469123    0.983421434125172 
               FALSE                FALSE                FALSE 
   0.988817609751804      0.9946194823394    0.997348938903254 
               FALSE                FALSE                FALSE 
    1.00231344965958      1.0046271107251     1.00657276188819 
               FALSE                FALSE                FALSE 
     1.0087254092616     1.00970991435929     1.01612467972638 
               FALSE                FALSE                FALSE 
    1.02361042189088     1.02375236656075     1.02846032507217 
               FALSE                FALSE                FALSE 
    1.03365420618228     1.04678973090502     1.05333682923356 
               FALSE                FALSE                FALSE 
    1.06821232832608     1.06998336311228     1.07081319958384 
               FALSE                FALSE                FALSE 
    1.07237844896025     1.07262976751722     1.07821007922983 
               FALSE                FALSE                FALSE 
    1.08443077368995     1.10203715955983     1.11356939062168 
               FALSE                FALSE                FALSE 
    1.12059455223874     1.12175734587912     1.12467337172797 
               FALSE                FALSE                FALSE 
    1.13163530221308      1.1398127432348     1.14608433966511 
               FALSE                FALSE                FALSE 
    1.16438296242197     1.16980291484179     1.17782036508377 
               FALSE                FALSE                FALSE 
    1.18258778938873     1.19886877254839      1.1995003192605 
               FALSE                FALSE                FALSE 
    1.20502193966485     1.22319241929608     1.22820892242935 
               FALSE                FALSE                FALSE 
    1.23105401712512     1.23902316738307     1.24377938230882 
               FALSE                FALSE                FALSE 
    1.25406462927815     1.26962011556231      1.2771809809647 
               FALSE                FALSE                FALSE 
    1.30720821726535     1.30955394037585     1.31015359517789 
               FALSE                FALSE                FALSE 
    1.31293898729525     1.31581194860666     1.32161005053651 
               FALSE                FALSE                FALSE 
    1.32556458528947     1.33488929332172     1.33803759135341 
               FALSE                FALSE                FALSE 
    1.35574678028028     1.39749476256579     1.42046559756642 
               FALSE                FALSE                FALSE 
    1.42716093071236     1.43448585621569      1.4369606495098 
               FALSE                FALSE                FALSE 
    1.47627490901512     1.48013552017509     1.49881549094996 
               FALSE                FALSE                FALSE 
    1.51143159876878     1.51890628256415     1.52229557664693 
               FALSE                FALSE                FALSE 
    1.52675719739261     1.53029072833925     1.53569951527878 
               FALSE                FALSE                FALSE 
    1.53945344710217     1.54890553526173     1.55640881539292 
               FALSE                FALSE                FALSE 
    1.57194753585974     1.58760926562768     1.58899191241011 
               FALSE                FALSE                FALSE 
    1.59052017841606     1.59313971211275     1.60081482955318 
               FALSE                FALSE                FALSE 
    1.60310904686228     1.60505819531019     1.60721577107298 
               FALSE                FALSE                FALSE 
    1.61365059713925     1.63046064382031      1.6305706159667 
               FALSE                FALSE                FALSE 
    1.63229492028904     1.64294961019732      1.6753098707066 
               FALSE                FALSE                FALSE 
    1.67607864044207     1.67949621459504     1.69280747501613 
               FALSE                FALSE                FALSE 
    1.69480331404164     1.69617464469049     1.70796590391502 
               FALSE                FALSE                FALSE 
    1.70993708135524     1.71674577035142     1.72987537750787 
               FALSE                FALSE                FALSE 
    1.73033566813968     1.73191414982618     1.74213479403813 
               FALSE                FALSE                FALSE 
    1.74392684055559     1.74463213079591     1.74895677641178 
               FALSE                FALSE                FALSE 
    1.75340497404621     1.75529712260588     1.75806735974752 
               FALSE                FALSE                FALSE 
    1.76443454068186     1.76507123452319     1.76853688924702 
               FALSE                FALSE                FALSE 
    1.80268905099835     1.80421773709202     1.80622590508796 
               FALSE                FALSE                FALSE 
    1.81181113307946     1.81456872760237     1.82038373938127 
               FALSE                FALSE                FALSE 
    1.82599035630646     1.82796197443814     1.83378906843486 
               FALSE                FALSE                FALSE 
     1.8488565959479     1.88419850435659     1.88925676186657 
               FALSE                FALSE                FALSE 
    1.89744710680715     1.90054230420633     1.93591700308532 
               FALSE                FALSE                FALSE 
    1.95237164362387     1.95914309225132      1.9806360237702 
               FALSE                FALSE                FALSE 
    1.98172607452158     1.98209725203628     1.98465040577199 
               FALSE                FALSE                FALSE 
    1.98788154454758     1.98804322930527      1.9926985952958 
               FALSE                FALSE                FALSE 
    2.00003588207284     2.00252079481246     2.00997076021296 
               FALSE                FALSE                FALSE 
    2.02279400988283     2.02983442360248     2.03494713488581 
               FALSE                FALSE                FALSE 
    2.04172048587926     2.05309571798178     2.07064966430031 
               FALSE                FALSE                FALSE 
    2.07832853087094     2.08600525449075     2.08737136622168 
               FALSE                FALSE                FALSE 
    2.09869069660076     2.11131208617607     2.12531227146327 
               FALSE                FALSE                FALSE 
    2.13700114074517     2.17853600190976     2.22153039865497 
               FALSE                FALSE                FALSE 
    2.24133974378614     2.24764618505991      2.2483333205168 
               FALSE                FALSE                FALSE 
    2.30001923626254     2.30266292487757     2.33365432165305 
               FALSE                FALSE                FALSE 
    2.36564716625449     2.37192329269596     2.37798522233945 
               FALSE                FALSE                FALSE 
    2.38086470757084     2.39393931212967      2.4076477302865 
               FALSE                FALSE                FALSE 
    2.42580977957108      2.4261178008313     2.43123228353325 
               FALSE                FALSE                FALSE 
    2.43550178929019     2.43639314915578     2.43964627802855 
               FALSE                FALSE                FALSE 
    2.44233934995727     2.44372238709319     2.44488173386695 
               FALSE                FALSE                FALSE 
    2.44973929633239     2.45559622071519     2.47325939023579 
               FALSE                FALSE                FALSE 
      2.491302646153     2.49201422647613     2.50108866099242 
               FALSE                FALSE                FALSE 
     2.5085429032387     2.52307967971827     2.52685766777575 
               FALSE                FALSE                FALSE 
    2.52903879746595     2.54622286135637     2.54870708278589 
               FALSE                FALSE                FALSE 
    2.55121179518029     2.55250866340293      2.5560299718863 
               FALSE                FALSE                FALSE 
    2.55755549485478     2.57506970004025     2.57921312440544 
               FALSE                FALSE                FALSE 
    2.59071548657521     2.59165057826597      2.6098805944311 
               FALSE                FALSE                FALSE 
    2.61715150428818     2.61937529026281     2.62615695646082 
               FALSE                FALSE                FALSE 
    2.63037977022678     2.63239812485294     2.64414860376819 
               FALSE                FALSE                FALSE 
    2.66508240508303     2.67619759644422     2.69268012133447 
               FALSE                FALSE                FALSE 
    2.69713836686421     2.70816836646976     2.71018918806215 
               FALSE                FALSE                FALSE 
    2.71279893518487     2.71385599443152      2.7182251059937 
               FALSE                FALSE                FALSE 
    2.72645992134634     2.73196891538249      2.7478677695446 
               FALSE                FALSE                FALSE 
    2.76655648274804     2.76995909979488     2.79755010492046 
               FALSE                FALSE                FALSE 
    2.79985247030249     2.81565421339563     2.85026365052365 
               FALSE                FALSE                FALSE 
    2.86022320886924      2.8620802393395      2.8906126193264 
               FALSE                FALSE                FALSE 
    2.89784414832091     2.89983251077238     2.91226450140124 
               FALSE                FALSE                FALSE 
    2.92208121030742     2.92824984948301     2.94414362835687 
               FALSE                FALSE                FALSE 
    2.94436348674779     2.96326457307435     2.97695874696299 
               FALSE                FALSE                FALSE 
     2.9837383091421     3.01571680274381     3.02523143101994 
               FALSE                FALSE                FALSE 
    3.04637238656602     3.09717523347781     3.12745967531849 
               FALSE                FALSE                FALSE 
    3.13171285218051     3.15114745383144     3.16421993410976 
               FALSE                FALSE                FALSE 
    3.21335846982633     3.22616848669163     3.22619099294023 
               FALSE                FALSE                FALSE 
    3.23240461335657      3.2381425883646     3.25635361282146 
               FALSE                FALSE                FALSE 
    3.26490957052954     3.26970190253267     3.28544531150745 
               FALSE                FALSE                FALSE 
    3.31632596096069     3.33089131081283     3.33704089202762 
               FALSE                FALSE                FALSE 
    3.36541046273065     3.36895925457322     3.37751059212698 
               FALSE                FALSE                FALSE 
    3.37865525167754     3.39474566036773      3.3955661074075 
               FALSE                FALSE                FALSE 
    3.40899474961505     3.43013953376346     3.43868614730402 
               FALSE                FALSE                FALSE 
    3.44296938770545     3.44957321349405     3.45274004488867 
               FALSE                FALSE                FALSE 
    3.45558670656722     3.46755258423089     3.47536264854828 
               FALSE                FALSE                FALSE 
     3.5140741638124     3.55697672931264     3.56251323696387 
               FALSE                FALSE                FALSE 
    3.56307815880939     3.58500731489713     3.60767232019235 
               FALSE                FALSE                FALSE 
    3.64016225166329       3.656841687605     3.70827051718558 
               FALSE                FALSE                FALSE 
    3.72725678984456      3.7686776827523     3.79613270420942 
               FALSE                FALSE                FALSE 
    3.80684127140641     3.81039215856646     3.84909735690586 
               FALSE                FALSE                FALSE 
    3.85977798221969     3.96888182657314     3.96912518027944 
               FALSE                FALSE                FALSE 
    3.97482712009328     4.02931215871885     4.03013509546672 
               FALSE                FALSE                FALSE 
    4.05047278888436     4.05296408220264      4.1022411587452 
               FALSE                FALSE                FALSE 
    4.10357658375222     4.11408552486761     4.12063924348945 
               FALSE                FALSE                FALSE 
    4.12857032080753     4.13410988565703     4.16203278428568 
               FALSE                FALSE                FALSE 
    4.16306814295967     4.19229719140495     4.20107424760147 
               FALSE                FALSE                FALSE 
    4.20576411875609      4.2228010019995     4.22433965683636 
               FALSE                FALSE                FALSE 
     4.2729269414493     4.28926523807768     4.32254517328822 
               FALSE                FALSE                FALSE 
    4.35262266243039      4.4199798873659     4.47742878537039 
               FALSE                FALSE                FALSE 
    4.51516122700701     4.52896462403084     4.58722521176136 
               FALSE                FALSE                FALSE 
    4.59341691769554      4.6378102874991     4.67437877804384 
               FALSE                FALSE                FALSE 
    4.80120670010354     4.80780578272079     4.93919375571983 
               FALSE                FALSE                FALSE 
    4.96852659322831     4.99929624687964       5.415500541063 
               FALSE                FALSE                FALSE 
    5.49925835187312     5.60425454313505     5.70088823678642 
               FALSE                FALSE                FALSE 
    5.77181237688818     5.84228625775971     5.94992353916935 
               FALSE                FALSE                FALSE 
    5.98768441911113     6.04670559505923     6.24693568072737 
               FALSE                FALSE                FALSE 
    6.67044119198931 
               FALSE </code></pre>
</div>
</div>
</section></section><section id="input-validation" class="level2"><h2 class="anchored" data-anchor-id="input-validation">Input validation</h2>
<p>Useful… :)!</p>
<div class="callout callout-style-simple callout-caution callout-titled" title="Exercise (15min): Input validation">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Exercise (15min): Input validation
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<p>Add an input validation that all items exist in the data set. Bonus: Print the missing items</p>
<div class="cell">
<details class="code-fold"><summary>Show solution</summary><div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a>calcScaleScore <span class="ot">&lt;-</span> <span class="cf">function</span>( data,</span>
<span id="cb12-2"><a href="#cb12-2"></a>                            items,</span>
<span id="cb12-3"><a href="#cb12-3"></a>                            <span class="at">score =</span> <span class="st">"sum"</span> ) {</span>
<span id="cb12-4"><a href="#cb12-4"></a></span>
<span id="cb12-5"><a href="#cb12-5"></a>  validItems <span class="ot">&lt;-</span> items <span class="sc">%in%</span> <span class="fu">colnames</span>(data)</span>
<span id="cb12-6"><a href="#cb12-6"></a>  </span>
<span id="cb12-7"><a href="#cb12-7"></a>  missingItems <span class="ot">&lt;-</span> items[<span class="sc">!</span>validItems]</span>
<span id="cb12-8"><a href="#cb12-8"></a>  </span>
<span id="cb12-9"><a href="#cb12-9"></a>  <span class="cf">if</span> (<span class="fu">length</span>(missingItems) <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb12-10"><a href="#cb12-10"></a></span>
<span id="cb12-11"><a href="#cb12-11"></a>      <span class="fu">stop</span>(<span class="st">"The following item(s) is/are not in the dataset: "</span>,</span>
<span id="cb12-12"><a href="#cb12-12"></a>           <span class="fu">paste</span>(missingItems, <span class="at">collapse =</span> <span class="st">", "</span>))</span>
<span id="cb12-13"><a href="#cb12-13"></a></span>
<span id="cb12-14"><a href="#cb12-14"></a>    }</span>
<span id="cb12-15"><a href="#cb12-15"></a></span>
<span id="cb12-16"><a href="#cb12-16"></a>  <span class="cf">if</span> (score <span class="sc">==</span> <span class="st">"sum"</span>) {</span>
<span id="cb12-17"><a href="#cb12-17"></a></span>
<span id="cb12-18"><a href="#cb12-18"></a>    ret <span class="ot">&lt;-</span> <span class="fu">rowSums</span>(data[,items])</span>
<span id="cb12-19"><a href="#cb12-19"></a></span>
<span id="cb12-20"><a href="#cb12-20"></a>  } <span class="cf">else</span> <span class="cf">if</span> ( score <span class="sc">==</span> <span class="st">"mean"</span> ) {</span>
<span id="cb12-21"><a href="#cb12-21"></a></span>
<span id="cb12-22"><a href="#cb12-22"></a>    ret <span class="ot">&lt;-</span> <span class="fu">rowMeans</span>(data[,items])</span>
<span id="cb12-23"><a href="#cb12-23"></a></span>
<span id="cb12-24"><a href="#cb12-24"></a>  } <span class="cf">else</span> {</span>
<span id="cb12-25"><a href="#cb12-25"></a></span>
<span id="cb12-26"><a href="#cb12-26"></a>    <span class="fu">stop</span>(<span class="st">"score argument must be either 'sum' or 'mean'"</span>)</span>
<span id="cb12-27"><a href="#cb12-27"></a></span>
<span id="cb12-28"><a href="#cb12-28"></a>  }</span>
<span id="cb12-29"><a href="#cb12-29"></a></span>
<span id="cb12-30"><a href="#cb12-30"></a>  <span class="fu">return</span>(ret)</span>
<span id="cb12-31"><a href="#cb12-31"></a></span>
<span id="cb12-32"><a href="#cb12-32"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
</div>
</div>


</section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/github\.com\/RiegerSven\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
          // target, if specified
          link.setAttribute("target", "_blank");
          if (link.getAttribute("rel") === null) {
            link.setAttribute("rel", "noopener");
          }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="../../material/data-proc/data-proc-nam-lists.html" class="pagination-link" aria-label="(Named) Lists &amp; character vectors">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">(Named) Lists &amp; character vectors</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../../material/data-proc/data-proc-loops.html" class="pagination-link" aria-label="Loops in R">
        <span class="nav-page-text">Loops in R</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer"><div class="nav-footer">
    <div class="nav-footer-left">
<p>The website is build with <a href="www.quarto.org">Quarto</a>.</p>
</div>   
    <div class="nav-footer-center">
<p>Copyright (c) 2023</p>
<div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/RiegerSven/riegersven.github.io/edit/main/material/data-proc/data-proc-functions.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/RiegerSven/riegersven.github.io/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></div>
    <div class="nav-footer-right">
<p>All material is licensed under the MIT License <a href="https://en.wikipedia.org/wiki/MIT_License">(MIT)</a>.</p>
</div>
  </div>
</footer>


</body></html>